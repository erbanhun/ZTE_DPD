# ZTE_DPD (Matlab)

本任务包含三个练习，分别是数字中频设计与仿真、数据预处理和数字预失真，请将以下三个练习的仿真报告何并为一个文档输出，仿真代码分别输出。
## 一、	数字中频设计与仿真 
### 1.	练习目的
数字中频是基带和射频之间的桥梁，涉及信号与系统、数字信号处理和软件无线电等基础知识，本练习意在帮助大家认识和了解数字中频在现代移动通信系统中所处的地位和作用，学习其基本概念和基本原理，并能够利用Matlab软件进行简单的设计与仿真，为后续CFR/DPD算法的研究打下良好的基础。
### 2.	练习设置
	UMTS4载波数字上下变频（DUC/DDC）
内容：
1）	提供UMTS 4载波基带数据源（见附件UMTS.mat），采样率为3.84Msps，自行设计数字滤波器完成信号的上采样（包括成型滤波）、移频合路和下采样，即先将各个载波插值到61.44Msps(16 * 3.84)，再搬移至期望的频点并合路，然后将合路信号抽取至7.68Msps(2 * 3.84)，并将指定频点的载波搬移回零频；
2）	分别计算信号在基带的功率、移频合路后的总功率以及抽取后载波的功率；
3）	编程计算信号的ACPR指标；
4）	画出信号的时域波形图和频谱以及数字滤波器的冲激响应和频率响应。
要求：
1）	复习信号与系统，例如傅氏变换，采样定理，功率谱密度等相关知识；
2）	复习数字信号处理，会利用Matlab设计简单的滤波器，了解其关键指标；
3）	自学软件无线电，特别是多速率信号处理方面的知识；
4）	自学ACPR/EVM等下行指标的物理意义，能够编写计算ACPR指标的代码；
5）	自学NCO（数控振荡器）的相关知识；
6）	比较基带、插值和抽取后信号的频谱和功率，要求频谱正确，载波功率不变；
7）	输出仿真报告和浮点仿真代码。

### 详细程序参看： DUC_DDC_git 文件夹
## 二、	数据预处理
### 1.	练习目的
本练习涉及DPD（数字预失真）的数据预处理工作，通过对功放输入、输出数据的预处理分析，初步了解PA和链路的线性失真与非线性失真的区别，为后续DPD算法研究做准备。本练习包含扩展的环境实验练习，有条件的同学可以选作。
### 2.	练习设置
	使用提供的DPD离线数据进行预处理
内容：
1）	提供DPD离线数据（见附件data.mat），信号配置为LTE单载波，第一列为DPD前信号，第二列为PA耦合回来的反馈信号；采样速率为491.52Msps，反馈NCO为157.44MHz。
2）	编写Matlab代码，实现数据预处理功能，包括反馈去直流、IQ不平衡校正，前向信号与反馈信号频点对齐、时延对齐、幅度对齐和相位对齐，画出预处理前后的时域波形和频谱；（时延对齐中包括粗时延对齐，以及插值至8倍速率下的精时延对齐）
要求：
1）	学习数据预处理在DPD处理中的意义和步骤；
2）	学习反馈IQ不平衡产生的原因和校正方法；
3）	独立设计精时延对齐的插值/抽取滤波器，熟练对信号进行插值滤波处理，要求处理完后频谱无混叠，精时延求取准确。
4）	能较熟练地根据提供的算法和公式，使用Matlab编写代码实现诸如求相关、分析数据时频域特性等运算。
5）	输出仿真报告和Matlab代码。
	扩展练习
	熟悉各种仪表的简单使用方法，包括频谱分析仪、功率计；
	了解ACPR指标的测试方法。

### 详细程序参看： DPD_git 文件夹 下 dpd_pre_zte.m
## 三、	数字预失真
### 1.	练习目的
本练习的目的是复习自适应建模中直接学习架构和间接学习架构的区别，了解数字预失真的基本思想，能够使用Matlab软件开发数字预失真参数提取代码，对预失真系统架构有一个大致的认识。
### 2.	练习设置
	瞬时预失真
内容：
1）	描述自适应建模的直接学习和间接学习两种架构，并选择其中一种进行后续DPD建模；
2）	基于练习二中预处理后的数据，分别画出前向和反馈信号的频谱图、AM-AM、AM-PM失真，直观理解功放失真的概念；
3）	使用无记忆多项式模型拟合瞬时预失真参数，并推导出合适的方法观察预失真后频谱改善情况、AM-AM、AM-PM拟合的效果。
	带记忆的预失真
内容：
1）	在瞬时预失真的基础上，模型中增加记忆项，即用记忆多项式模型拟合预失真参数，并对比瞬时预失真与带记忆预失真的ACLR性能差异。
	预失真表格生成
内容：
1）	将带记忆的预失真系数生成浮点预失真查找表；
2）	计算信号过表格后的功率变化，避免表格中增益过大，初步了解表格校验的意义。
要求：
1）	复习直接学习和间接学习两种架构，并能描述出其建模过程的差异；
2）	理解AM-AM、AM-PM失真特性的含义；
3）	初步了解DPD的基本思想和多项式模型，会提取DPD模型参数；
4）	能推导出适当的方法观察预失真效果；
5）	理解查找表的含义、生成方法；
6）	输出仿真报告和浮点仿真代码。

### 详细程序参看： DPD_git 文件夹 下 ZTE_DPD.m
## 四、	参考资料
1）	信号与系统
2）	数字信号处理
3）	软件无线电
